"use strict";var S=Object.create;var p=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var $=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),O=(e,t)=>{for(var r in t)p(e,r,{get:t[r],enumerable:!0})},y=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b(t))!T.call(e,o)&&o!==r&&p(e,o,{get:()=>t[o],enumerable:!(i=F(t,o))||i.enumerable});return e};var u=(e,t,r)=>(r=e!=null?S(k(e)):{},y(t||!e||!e.__esModule?p(r,"default",{value:e,enumerable:!0}):r,e)),U=e=>y(p({},"__esModule",{value:!0}),e);var v=$((H,g)=>{"use strict";var L=require("os"),D=L.homedir();g.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return D?e.replace(/^~(?=$|\/|\\)/,D):e}});var C={};O(C,{default:()=>X});module.exports=U(C);var a=require("@raycast/api");async function f(e,t,r,i){let o=await(0,a.showToast)({style:a.Toast.Style.Animated,title:e});try{let n=await i();return o.style=a.Toast.Style.Success,o.title=t,{isSuccess:!0,result:n,toast:o}}catch(n){return console.error(n),o.style=a.Toast.Style.Failure,o.title=r,o.message=`${n}`,{isSuccess:!1,toast:o}}}var A=require("child_process"),h=require("util"),l=(0,h.promisify)(A.exec);function d(e){let t;return Array.isArray(e)?t=e.map(r=>`-e '${r}'`).join(" "):t=`-e '${e}'`,l(`osascript ${t}`).then(r=>r.stdout)}var s=u(require("fs"));var x=s.default.promises.readdir,M=s.default.promises.mkdir,W=s.default.promises.rm,_=s.default.promises.readFile,z=s.default.promises.writeFile,B=s.default.promises.rm;var w=u(require("path")),P=u(v()),m=class{static clearDerivedData(){return d(['set dd to (path to home folder as string) & "Library:Developer:Xcode:DerivedData"','tell application "Finder"',"if dd exists then","move dd to trash","end if","end tell"]).then()}static removeDerivedData(t){let r=(0,P.default)("~/Library/Developer/Xcode/DerivedData");return x(r).then(i=>{let o=i.find(n=>n.split("-").slice(0,-1).join("-")===t);return o?d(`tell application "Finder" to delete POSIX file "${w.default.join(r,o)}"`).then():Promise.resolve()})}static clearSwiftPackageManagerCache(){return l("rm -rf ~/Library/Caches/org.swift.swiftpm/repositories").then()}static deleteUnsupportedSimulators(){return l("xcrun simctl delete unavailable").then()}};var c=require("@raycast/api"),j=c.Alert.ActionStyle,X=async()=>{let e={icon:c.Icon.Trash,title:"Delete unsupported simulators",message:"Are you sure you want to delete all unsupported simulators?",primaryAction:{title:"Delete",style:j.Destructive}};!await(0,c.confirmAlert)(e)||await f("Deleting unsupported simulators","Successfully deleted unsupported simulators","An error occurred while trying to delete unsupported simulators",m.deleteUnsupportedSimulators)};0&&(module.exports={});
